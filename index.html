<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>SIRÇA AKADEMİ(KOMİSERİM PAEMİSYON)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="bg-slate-50 text-slate-900">
  <div id="root">
    <!-- Initial Loader -->
    <div id="initial-loader"
      style="position:fixed;top:0;left:0;width:100%;height:100%;background:#f8fafc;display:flex;justify-content:center;align-items:center;z-index:9999;transition:opacity 0.5s;">
      <div style="text-align:center;font-family:sans-serif;color:#475569;">
        <div style="font-size:30px;margin-bottom:10px;">
          <i class="fas fa-circle-notch fa-spin" style="color:#2563eb;"></i>
        </div>
        <div>Yükleniyor...</div>
        <div style="font-size:12px;margin-top:10px;color:#94a3b8">v1.2.0 - Redmi Patch</div>
      </div>
    </div>

  </div>
  </div>

  <!-- Global Shim for Older Devices -->
  <script>
    if (typeof global === 'undefined') {
      window.global = window;
    }
  </script>

  <!-- Crash Handler Script -->
  <script>
    window.addEventListener('load', function () {
      const loader = document.getElementById('initial-loader');

      // Timeout to detect crash (Extended to 20s for mobile data)
      setTimeout(function () {
        // If loader is still there...
        if (loader && document.body.contains(loader)) {
          // Check if root has other children (meaning React mounted but loader didn't vanish)
          const rootHandler = document.getElementById('root');
          if (rootHandler && rootHandler.children.length === 0) { // React hasn't mounted anything yet
            loader.innerHTML = '<div style="color:#ef4444;padding:20px;max-width:300px;margin:0 auto;">' +
              '<h3 style="font-size:18px;font-weight:bold;margin-bottom:8px;">Yükleme Sorunu</h3>' +
              '<p style="font-size:14px;margin-bottom:16px;">Sayfa yanıt vermiyor. Bağlantınız yavaş olabilir veya cihazınız bu sürümü desteklemiyor.</p>' +
              '<button onclick="window.location.reload(true)" style="background:#2563eb;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:bold;cursor:pointer;">Sayfayı Yenile</button>' +
              '<p style="font-size:11px;margin-top:20px;color:#94a3b8">Hata Kodu: CONNECTION_TIMEOUT_20S</p>' +
              '</div>';
          }
        }
      }, 20000);
    });

    window.onerror = function (msg, url, lineNo, columnNo, error) {
      const loader = document.getElementById('initial-loader');
      if (loader) {
        loader.innerHTML = '<div style="color:#ef4444;padding:20px;max-width:300px;margin:0 auto;">' +
          '<h3 style="font-size:18px;font-weight:bold;margin-bottom:8px;">Uygulama Hatası</h3>' +
          '<p style="font-size:14px;margin-bottom:16px;">Bir hata oluştu: ' + msg + '</p>' +
          '<button onclick="window.location.reload(true)" style="background:#2563eb;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:bold;cursor:pointer;">Yeniden Dene</button>' +
          '</div>';
        return true;
      }
      return false;
    };
  </script>
  <script type="module" src="/index.tsx"></script>
</body>

</html>